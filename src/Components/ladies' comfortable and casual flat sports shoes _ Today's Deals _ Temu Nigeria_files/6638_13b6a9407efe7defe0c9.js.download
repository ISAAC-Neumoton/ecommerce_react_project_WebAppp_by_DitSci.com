(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6638],{41177:function(e){e.exports={globaleText:"_27pKplA0"}},54198:function(e){e.exports={dialogWrap:"_2qm-Tftk",scroll:"_2mA2u74U",empty:"_147_Lhp7",similarTitle:"_1dA8m5lq"}},61708:function(e){e.exports={dialogWrap:"_3Rsl6Owq",scroll:"HVCrPqZh",empty:"_26Kb3O1C",globaleText:"_161Jl0Eq",scoreRate:"_3rgB-zke"}},92129:function(e){e.exports={headerWarp:"_3qyMpYnn"}},13742:function(e){e.exports={wrap:"_3jKq3hMX",pageWrap:"_3bznalLy",left:"_1yYdNZhh",scoreText:"_2fJoIUUF",pointer:"eGaxnL4V",reviews:"_2DS4do0d",right:"_3bbiUwx6",coreItem:"TpeHroUE",progressWarp:"_4RrL1Qjd",progress:"_2KE4zlSD",progressBar:"_3xPXxwzh",percentStr:"_17_P26tO",activeAnimation:"_1IvElnoT"}},22560:function(){},8160:function(e){e.exports={empty:"_2jzsppBG",svg:"_1IS-Rf1t"}},81490:function(e){e.exports={wrap:"_2mjWF32-",content:"_2O3BrzXA",head:"sTj4Q8Du",container:"_2DLyGMWi",contentText:"_1QWnKP1R",confirmBtn:"zIJokLxS",activeAnimation:"_2xGq6-rA"}},36162:function(e){e.exports={noGoodsReviewTips:"-dA9Cd4i",noGoodsReviewTipTitle:"_1H7Z2wHW",noGoodsReviewTipContent:"_1XQNlyup",similarReviews:"BHlaNXE5",noGoodsItemTipsArrow:"_19kBTkhu",arrowUp:"_3ioR99d4",borderMagin:"_2JTv_UQ4",showBottomBorder:"_1D_g3xwf",showSimilarReviews:"_3Z45C1lp"}},2635:function(e){e.exports={warp:"LHcdAhlF",overlayWarp:"_1ySfVZ3V",totalText:"_1Ydnyl5N",text:"_3myjvBTf",progressWarp:"fVyLT8PK",progress:"_1YFYddtz",progressBar:"rCImaCi3",percentStr:"_2a9dGWWp",iconWarp:"_7aGToHrD",icon:"_3IX7qe-e",isSelected:"_1AfNvR0l",isSelectedProgress:"_2hLwhUpm",gridItem:"_1l4tJdGW",hover:"_21KRz-jw"}},58231:function(e){e.exports={reviewListWrapper:"_46rO8bke"}},33765:function(e){e.exports={moreWarp:"_2nOneDag",sort:"_1KBsk92T",twoLine:"_3DXSW5jb"}},60446:function(e){e.exports={wrap:"_2nDhj6Re",content:"_2cxNNkqt",left:"_3_dqy1vG",desc:"_2kRvcPo8",label:"FOqavBW2",right:"_2zgqsYP0",progress:"_1cbiYeOT",progressBar:"_2BWB-ruh",num:"_32XNKLyl",progressV2:"_2QEXmKe9",progressItem:"dndmFkhW",labelV2:"S1p3AFfO",clothfitTip:"_2DvYsffD"}},3187:function(e){e.exports={sortWrap:"_2oK2hVAW",noLableSort:"lPVkoeBK",staticSort:"_3u4UukHA",selectSort:"_1hzRxS1N",noPointer:"bUNGfyPM",arrow:"_1FVKYgUY",boldWrap:"_3Jg7lZ-O",line:"_3JO1PAiM",splitSortWrap:"_3fqYZg3I",sortLable:"_3T27k1hG",sortSelect:"_3ehNToXF",sortLine:"_2mdAyTY_",recommendRich:"flxlMpAn",splitTagRecommend:"FyJe6A4H",yiwenIcon:"_15byM1KM",mostRencent:"_23HuOazG",sortPopupContent:"_8mo8sLHg",tabLine:"_251Sp8EL",activeAnimation:"_3tskuXnn"}},15471:function(e){e.exports={reviewTabItem:"_1OdXCJ1j",active:"_2xBci-uL",topContainer:"_3SkH3F-o",top:"_2ay-QyCM",topLabelSeperator:"P2m5wTAm",topLable:"KcrWz8z4",isGcTab:"DGYp5Wbe",subtitleText:"yLkMleNW"}},50874:function(e){e.exports={simillarReviewListWrap:"_31Bp8qoD",simillarTitle:"_22LkdKNs",header:"S2LleQUV",title:"_2qwtGT3l",shcdowIcon:"bGMn8_vp",linkRewiew:"_1BVr64uA",activeAnimation:"_2_dkc4hJ"}},32640:function(e){e.exports={simillarReviewListWrap:"_3Y7BPb1k",similarTitle:"_21Q-lZpd"}},91950:function(e){e.exports={topWrap:"_1AFVb_qh",top:"UadtlhRd",title:"pkFBdEpJ",line:"_12qnGlQR",score:"dkJHVAVx",scoreText:"_377jlZDR",startCn:"uziolf7-",activeStar:"_2LjjmduM",strongScore:"_2e5-ZV1n",emptyStar:"_3RXGM38G",linkRewiew:"_25XsRCLp",afterBtnWarp:"_1xLJgJFf",rightArrowIcon:"_1Xfhe9ma",providerRating:"_19ME6rxN",titleScoreWrap:"o4_SJXJJ",richText:"_1yKgvogg"}},81482:function(e){e.exports={wrap:"_3tM09D8L",titleWrap:"_3wpQA-lT",baseLine:"_22rziQFH"}},74644:function(e){e.exports={wrap:"_3jPtTiGG",container:"_2VdfFNi6"}},48643:function(e){e.exports={wrap:"_1LMFi8rf",titleWrap:"_2hpwTWHw",left:"_3kZyyLFT",title:"_2SAHtAo5",subTitle:"_2jkl0BbT",seeAll:"_3A0W-oEh",arrow:"_34urI643",listWrap:"_1jUbLPJ8",reviewItem:"_3ffkoubI",image:"_3cWeBg3Q",videoIcon:"JMdfkki8"}},52735:function(e){e.exports={reviewWrapper:"BkPm57vX",img:"RF_s9ZqK",comment:"iK0Yp9J9",avatar:"_3zMX02be",name:"_399OMi8s",author:"_2ebiYqnR",videoIcon:"X5Hm-2jz"}},49589:function(e){e.exports={list:"_36U4wPh9",title:"_1_z9lAyG",dot:"_2ZMZEBEb",popOverDownList:"g6kR_Qae",popItem:"a42U8Pbs",loading:"_2ZQfRP5N",openCommentLink:"_1QEuMlFs"}},25013:function(e){e.exports={wrap:"OmkaXRmH",container:"_3tPnxdC9"}},41866:function(e,t,i){"use strict";i.d(t,{$p:function(){return n},CV:function(){return w},Ez:function(){return u},H$:function(){return p},Ix:function(){return I},Jm:function(){return h},LM:function(){return r},Oe:function(){return x},QH:function(){return b},Sw:function(){return c},Xh:function(){return d},au:function(){return E},b3:function(){return f},bA:function(){return y},be:function(){return S},bv:function(){return s},h$:function(){return T},jd:function(){return o},l_:function(){return v},nG:function(){return g},qf:function(){return m},rS:function(){return A},vs:function(){return R},xi:function(){return L}});var a=i(9454);const n="goods",r=10032,o={requireLogin:!1,title:"Temu",pageProperty:{pageName:n,pageSN:r,pv:{keys:["goods_id",{key:"main_goods_id",mapping:["goods_id"]},{key:"main_sku_id",mapping:["sku_id"]}]},pagePath:"/w/goods.html"},pageRegExp:a.am.GoodsDetail.pageRegExp,loadable:!0},l=["refer_msgid","msgid"],s=e=>e?Object.keys(e).reduce(((t,i)=>{const a=Array.isArray(e[i])?e[i][e[i].length-1]:e[i];return i.startsWith("_x_")&&(t[i.slice(1)]=a,t[i]=a),i.startsWith("_oak_")&&(t[i]=a),l.includes(i)&&(t[i]=a),t}),{}):{};const c={TRANSLATE:201946,VIEW_BIG_IMAGE:201948,BIG_IMAGE_TRANSLATE:201950};let m=function(e){return e[e.ITEM=0]="ITEM",e[e.SHOP=1]="SHOP",e}({}),u=function(e){return e[e.shoppingCart=1]="shoppingCart",e[e.listAddCart=2]="listAddCart",e[e.addToOrder=3]="addToOrder",e[e.goodsDetail=4]="goodsDetail",e}({}),p=function(e){return e[e.addOrder=1]="addOrder",e[e.addCart=2]="addCart",e[e.addList=3]="addList",e[e.addGift=4]="addGift",e[e.addWish=5]="addWish",e[e.buyNow=6]="buyNow",e[e.redeemPoints=7]="redeemPoints",e}({}),d=function(e){return e[e.addCart=410]="addCart",e}({});const w={wishlistFloatShowTime:"wishlist_float_show_time",chatBtnTipShowedTimes:"chat_btn_tip_showed_times"},h={wishlistDelGoodsIds:"WISHLIST_DEL_GOODIDS"},v=60,g=500,f={resizeWidth:50,quality:10},b={resizeWidth:180,quality:70},S={...b,resizeWidth:800},I={...b,resizeWidth:500},y={resizeWidth:1300,quality:90};let L=function(e){return e[e.MainGoods=1003200]="MainGoods",e[e.BigPicture=1003201]="BigPicture",e[e.BigPictureComment=1003202]="BigPictureComment",e[e.FrequentlyBought=1003203]="FrequentlyBought",e[e.SimilarGoods=1003204]="SimilarGoods",e[e.MallRecommend=1003205]="MallRecommend",e[e.BottomRecommend=1003206]="BottomRecommend",e[e.AddOrder=1003207]="AddOrder",e[e.MatchingOutfits=1003208]="MatchingOutfits",e[e.InStockSimilarItems=1003210]="InStockSimilarItems",e[e.Outfits=1003211]="Outfits",e[e.SkuCapsule=1003214]="SkuCapsule",e[e.MallSelector=1003212]="MallSelector",e[e.PurchaseBenefit=335]="PurchaseBenefit",e[e.LocalInfoPopupRec=389]="LocalInfoPopupRec",e[e.LocalGoodsSimilarRec=383]="LocalGoodsSimilarRec",e[e.BestPricePopup=619]="BestPricePopup",e[e.AddMultiple=1003222]="AddMultiple",e}({});const E=5,A={WISHLIST_TIPS_SHOW_STATUS:"wishlist_tips_show_status",GOODS_COUPON_TIPS_SHOW_STATUS:"goods_coupon_tips_show_status"},R={PRODUCT_GUIDES:"1",SIZE_GUIDE:"2"},x={SOLD_OUT:"goods_detail_sold_out_similar",NORMAL:"goods_detail_like"};let T=function(e){return e.A="A",e.B="B",e.C="C",e.D="D",e}({})},34760:function(e,t,i){"use strict";i(44114);var a=i(33514),n=i(87837),r=i(60446),o=i.n(r);const l=(0,a.memo)((e=>{let{percent:t}=e;return a.createElement("span",{className:o().progress},a.createElement("i",{className:o().progressBar,style:{width:`${t}%`},"aria-hidden":!0}))}));t.A=(0,a.memo)((e=>{let{clothFitReviewInfoList:t,isShowReviewProgress:i,clothFitTipV2:r,reviewClothFitReviewText:s,progressElSn:c,visible:m}=e;const[u,p]=(0,a.useState)([]);if((0,a.useEffect)((()=>{if(!m)return;const e=Array.from(document.querySelectorAll(`.${o().label}`)),t=[];e.forEach((e=>{const{height:i}=e?.getBoundingClientRect()||{};i&&t.push(i)})),t?.length===e?.length&&p(t)}),[t,i,m]),!t?.length||!i)return null;const d=t.some((e=>2!==e.level&&e.percent>=15)),w=t?.map((e=>e.text));return"1"===r?a.createElement("div",null,a.createElement("div",{className:o().progressV2},t.map((e=>{let{text:t,percent:i,level:r}=e,l="";2!==r&&i>=15?l="#000000":2!==r||d||(l="#0A8800");const s=a.createElement("div",{className:o().progressItem,role:"document","aria-label":`${t} ${i}%`,style:{backgroundColor:l,width:`${i}%`}});return a.createElement(a.Fragment,{key:t},c?a.createElement(n.Rp,{page_el_sn:c,key:t},s):s)}))),a.createElement("div",{className:o().labelV2},t.map((e=>{let{percentageStr:t,text:i}=e;return a.createElement("span",{key:i},t," ",i)}))),!!s&&a.createElement("p",{className:o().clothfitTip},s)):a.createElement("div",{className:o().wrap},a.createElement("div",{className:o().content},a.createElement("div",{className:o().left},w.map(((e,t)=>a.createElement("div",{className:o().label,key:e,"aria-hidden":!0},e)))),a.createElement("div",{className:o().right},t.map(((e,t)=>{let{text:i,percent:r}=e;const s=u?.[t],p=a.createElement("div",{className:o().desc,tabIndex:0,role:"link","aria-label":`${i} ${r}%`,style:m&&s?{height:s}:void 0},a.createElement(l,{percent:r}),a.createElement("span",{className:o().num,"aria-hidden":!0},a.createElement("span",null,r),a.createElement("span",null,"%")));return a.createElement(a.Fragment,{key:i},c?a.createElement(n.Rp,{page_el_sn:c,key:i},p):p)})))))}))},4294:function(e,t,i){"use strict";i.d(t,{A:function(){return Gt}});var a=i(33514),n=i(47116),r=i(14511),o=i(96704),l=i(63962),s=i(80924),c=i(11207),m=i(43522),u=i(78545),p=i(8587),d=i(15031),w=i(97582),h=i(34678),v=i(87837),g=i(881),f=i(74644),b=i.n(f);var S=(0,r.W4)({name:"BlockDialog"})((0,n.PA)((()=>{const{reviewGalleryStore:e}=(0,l.Pj)(),{showBlockPopup:t,handleHideBlockPopup:i,sureHideBlock:n,galleryReviewTips:r}=e||{},{t:o}=(0,w.B)("comments"),s=r?.blockExplanationText||o("gallery.title"),c=o("gallery.blockConfirm"),m=o("gallery.blockCancel"),u=(0,p.w)((()=>{i()})),d=(0,p.w)((()=>{n(),i(),(0,g.AI)(246050,{})}));return t?a.createElement(h.A,{onClose:u,confirmButtonLabel:c,cancelButtonLabel:m,onConfirm:d,confirmButtonProps:{accessibility:!0},onCancel:i,baseDialogProps:{containerProps:{className:b().container}}},a.createElement(v.nU,{page_el_sn:246050},a.createElement("div",{className:b().wrap},s))):null}))),I=i(32485),y=i.n(I),L=i(21614),E=i(52248),A=i(57469),R=i(48643),x=i.n(R);const T=[3];var _=(0,r.W4)({name:"ReviewGalleryBanner"})((0,n.PA)((e=>{let{className:t,interaction:i}=e;const{t:n}=(0,w.B)("comments"),{reviewGalleryStore:r}=(0,l.Pj)(),{actionRulePopup:o,title:s,subTitle:c,galleryReviewsBannerList:m,handleGalleryReviewDialog:u}=r||{},p=(0,a.useMemo)((()=>m?.slice(0,4)||[]),[m]);return p?.length?a.createElement("div",{className:y()(x().wrap,t)},a.createElement("div",{className:x().titleWrap},a.createElement("div",{className:x().left},a.createElement(L.l5,{className:x().title,newRichText:s}),a.createElement(L.l5,{className:x().subTitle,newRichText:c,showPopup:o,showPopupWhiteList:T})),a.createElement("div",{className:x().seeAll,onClick:()=>{i.start({type:"click"}),u(i)},role:"button",tabIndex:0},n("seeAll")," ",a.createElement(E.hu,{className:x().arrow}))),a.createElement("div",{className:x().listWrap,onClick:()=>{u(i)},role:"button",tabIndex:0},p.map(((e,t)=>{const{video:i,pictures:n,reviewId:r}=e||{},o=i?.coverImageUrl||n?.[0]?.url||"";return a.createElement(v.nU,{page_el_sn:246037,key:r||t,others:{index:t}},a.createElement("div",{className:x().reviewItem},a.createElement(A.A,{src:o,maskClassName:x().image}),!!i&&a.createElement(A.A,{maskClassName:x().videoIcon,src:"https://aimg.kwcdn.com/upload_aimg/sp/6832a849-426c-45ee-a284-3446a8cfc1d5.png"})))})))):null}))),P=i(68797),C=i(46694),N=i(14242),k=i(67388);const M=a.forwardRef(((e,t)=>{const{t:i,i18n:n}=(0,w.B)("bec-fe.svg-icons-pc");return a.createElement(k.i,(0,N.A)({ref:t,fill:"#222222"},e,{path:["M320.9 568.6c14.6 0 26.8-5 36.6-14.9 9.8-10 14.7-22 14.8-36.2 0-14.4-4.9-26.5-14.8-36.3-9.8-9.9-22-14.8-36.6-14.7-14.4 0-26.5 4.9-36.5 14.7-9.9 9.9-14.9 22-14.9 36.3 0 14.1 5 26.2 14.9 36.2 9.9 10 22.1 15 36.5 14.9z m195 0c14.6 0 26.8-5 36.6-14.9 9.8-10 14.7-22 14.8-36.2 0-14.4-4.9-26.5-14.8-36.3-9.8-9.9-22-14.8-36.6-14.7-14.4 0-26.5 4.9-36.5 14.7-9.9 9.9-14.9 22-15 36.3 0 14.1 5 26.2 15 36.2 9.9 10 22.1 15 36.5 14.9z m194.9 0c14.6 0 26.8-5 36.7-14.9 9.8-10 14.7-22 14.7-36.2 0-14.4-4.9-26.5-14.7-36.3-9.8-9.9-22-14.8-36.7-14.7-14.4 0-26.5 4.9-36.5 14.7-9.9 9.9-14.9 22-14.9 36.3 0 14.1 5 26.2 14.9 36.2 9.9 10 22.1 15 36.5 14.9z"],"aria-label":e["aria-label"]??(n.exists("aria-label.QitaFenye",{ns:"bec-fe.svg-icons-pc"})?i("aria-label.QitaFenye"):void 0),rtlPath:[]}))}));M.supportRtl=!1;var D=M,z=i(27114),H=i(84973),F=i(90038),B=i(54403),G=i(74344),q=i(77140),O=i(8809),W=i(52735),V=i.n(W);var U=(0,r.W4)({name:"ReviewGalleryDialogItem"})((0,n.PA)((e=>{const{data:t,index:i}=e,{comment:n,name:r,avatar:o,reviewId:s,list:c,reviewLang:m}=t||{},u=c?.[0]||{},{url:p,videoUrl:d}=u||{},w=(0,l.Pj)(),{reviewGalleryStore:h}=w||{},{showBigPictureDialog:g,goodsInfo:f}=h||{},{goodsId:b}=f||{},S=m?.translateComment||n;return a.createElement(v.nU,{page_el_sn:246051,others:{review_id:s,goods_id:b}},a.createElement("div",{className:V().reviewWrapper,key:`${s}_${i}`,onClick:e=>{g(e,i)},role:"button",tabIndex:0},a.createElement("div",{className:V().img},p?a.createElement(A.A,{src:p,maskClassName:V().img,alt:"","aria-hidden":!0}):null,!!d&&a.createElement(A.A,{maskClassName:V().videoIcon,src:"https://aimg.kwcdn.com/upload_aimg/sp/6832a849-426c-45ee-a284-3446a8cfc1d5.png"})),S?a.createElement("p",{className:V().comment},S):null,o||r?a.createElement("div",{className:V().author},o?a.createElement(O.Ay,{src:o,className:V().avatar,alt:"","aria-hidden":!0}):null,r?a.createElement("span",{className:V().name},r):null):null))}))),j=i(49589),X=i.n(j);const $=()=>null;var Q=(0,r.W4)({name:"ReviewGalleryDialog"})((0,n.PA)((e=>{const{interaction:t,commentDialogInteraction:i}=e||{},n=(0,l.Pj)(),{reviewGalleryStore:r,reviewStore:o}=n||{},{onMouseDownPreloadData:s,onMouseLeaveClearPreloadPromise:c,handleCommentDialog:m}=o,{isRTL:u}=(0,C.Sz)(),{queryGalleryReviewList:d,galleryReviewsList:g,hasMore:f,closeGalleryDialog:b,galleryTitle:S,gallerySubTitle:I,galleryReviewTips:y,handleShowBlockPopup:L,handleShowRulePopup:E,isLoading:A}=r||{},R=(0,p.w)((()=>{(0,G.A)("click_open_comment_dialog_button_gallery"),i.start({type:"click"}),m(t)})),{t:x}=(0,w.B)("goods"),{ruleBtnText:T="Rules",blockBtnText:_="Block section for 7 days"}=y||{},N=(0,a.useRef)(),k=a.createElement("div",{className:X().popOverDownList},a.createElement(v.nU,{page_el_sn:246049},a.createElement("div",{className:X().popItem,onClick:E,role:"button",tabIndex:0},T)),a.createElement(v.nU,{page_el_sn:246050},a.createElement("div",{className:X().popItem,onClick:L,role:"button",tabIndex:0},_))),M=a.createElement("div",{className:X().title},a.createElement(q.A,{concatRichText:S,isRTL:u}),a.createElement("div",{onClick:R,onMouseDown:s,onMouseLeave:c,role:"button",tabIndex:0,className:X().openCommentLink},a.createElement(q.A,{concatRichText:I,isRTL:u})),a.createElement("div",{className:X().dot},a.createElement(H.A,{placement:"bottom",appendToBody:!0,overlay:k,ref:N},a.createElement("div",null,a.createElement(v.nU,{page_el_sn:246048},a.createElement(D,{width:"30px",height:"30px"}))))));return a.createElement(a.Fragment,null,a.createElement(h.A,{onClose:b,title:M,size:"l"},a.createElement("div",{className:X().wrap},0===g?.length&&A?a.createElement(F.A,{wrapClassName:X().loading}):null,g?.length<=0&&!A?a.createElement(B.A,{desc:x("galleryEmptyReview"),imageConfigs:{svg:a.createElement(z.A,{style:{width:"120px",height:"120px"}})}}):null,g?.length>0?a.createElement(P.A,{wrapperClass:X().list,datasource:g,hasMore:!!f,itemKey:"reviewId",loadMoreData:d,renderItem:U,showLoading:!1,ListEndView:$,loadingText:"",autoOptimize:!1}):null)),a.createElement(t.End,{name:"pc_goods_GalleryDialog"}))}))),J=i(25013),K=i.n(J);var Y=(0,r.W4)({name:"RuleDialog"})((0,n.PA)((()=>{const{reviewGalleryStore:e}=(0,l.Pj)(),{showRulePopup:t,ruleExplanationText:i,handleHideRulePopup:n,galleryReviewTips:r}=e||{},o=i||r?.ruleExplanationText,{t:s}=(0,w.B)("comments"),c=(0,p.w)((()=>{n(),(0,g.AI)(246049,{})})),m=(0,p.w)((()=>{n(),(0,g.AI)(246049,{})}));return t&&o?a.createElement(h.A,{onClose:c,confirmButtonLabel:s("ok"),onConfirm:m,confirmButtonProps:{accessibility:!0},baseDialogProps:{containerProps:{className:K().container}}},a.createElement(v.nU,{page_el_sn:246049},a.createElement("div",{className:K().wrap},o))):null})));var Z=(0,r.W4)({name:"ReviewGallery"})((0,n.PA)((e=>{let{commentDialogInteraction:t}=e;const{reviewGalleryStore:i,pageSn:n,reviewStore:r}=(0,l.Pj)(),{galleryReviewsList:s,showGalleryReviewDialog:w,showBigPictureReviewIndex:h,goodsInfo:v,hideBigPictureDialog:g,isShowBigPictureDialog:f,helpfulInfoMap:b,onHelpful:I,setIsHelpfulInfo:y,showGalleryReview:L}=i||{},{activeTopIndex:E}=r||{},A=s?.[h]||{},R={...A,goodsInfo:v},x=(0,p.w)((e=>{(0,c.wu)({reviewId:e,pageSN:n})})),T=(0,o.Mj)();return L&&E===d.qf.ITEM?a.createElement("div",null,a.createElement(_,{interaction:T}),a.createElement(m.A,null,a.createElement(a.Fragment,null,w?a.createElement(Q,{interaction:T,commentDialogInteraction:t}):null,A&&f?a.createElement(u.A,{pageSn:n,data:R,closeCb:g,isShowPrev:!1,isShowNext:!1,activeTopIndex:1,onHelpful:I,setIsHelpfulInfo:y,helpfulInfoMap:b,onToggleAnonymous:()=>{},showOperateMenu:!0,reportReview:x,requestParams:{_oak_page_source:413,goods_id:v.goodsId}}):null,a.createElement(S,null),a.createElement(Y,null)))):null})));var ee=(0,n.PA)((e=>{let{expParams:t,control:i,reviewStore:n,commonCommentStore:r,CartScene:o,pageSN:l,commentBigPictureStore:s}=e;const{supportReviewBulletComment:c}=i?.supportExperimentControl||{},{activeTopIndex:m,goodsInfo:w,newToggleAnonymous:h,noGoodsReviewHasShopReview:v}=n,{reportReview:g,setIsHelpfulInfo:f,helpfulInfoMap:b,onHelpful:S}=r||{},{removeCommentBigPicture:I,reviewIndex:y,popData:L,isShowPrev:E,isShowNext:A,onClickPrev:R,onClickNext:x,onTogglePopupAnonymous:T}=s||{},_=(0,a.useMemo)((()=>{if(L?.goodsInfo?.type===d.Gd.showSimilarGoodsLink)return{...L?.goodsInfo||{},cart_scene:o.BigPictureComment};return m===d.qf.ITEM&&!v?{cart_scene:o.BigPictureComment,...w}:{...L?.goodsInfo||{},cart_scene:o.BigPictureComment}}),[m,v,o.BigPictureComment,w,L?.goodsInfo]),P=(0,p.w)((async e=>{const t=await T(e);t&&h(e,t)}));return L?a.createElement(u.A,{data:{...L,goodsInfo:_},pageSn:l,closeCb:I,isShowPrev:E,isShowNext:A,onClickNext:x,onClickPrev:R,activeIndex:y,showBullet:!!c,requestParams:{_oak_page_source:413,goods_id:_.goodsId},activeTopIndex:m,reportReview:g,onHelpful:S,setIsHelpfulInfo:f,helpfulInfoMap:b,onToggleAnonymous:P,reviewExpParams:t}):null})),te=i(41866),ie=i(40565),ae=i(92129),ne=i.n(ae);var re=(0,n.PA)((e=>{let{data:t,activeTopIndex:i,onDeleteReview:n,onToggleAnonymous:r,pageSn:o,expParams:l,index:s,trackingInfo:c,hasImages:m=!0,hasBtnAndFit:u=!0,isSimilarDialogItem:p=!1,itemShowType:w="",purchasedCard:h=!1}=e;return a.createElement(ie.A,{originData:t,pageSn:o,onDeleteReview:n,onToggleAnonymous:r,activeTopIndex:i,trackingInfo:c,reviewExpParams:l,isSimilarDialogItem:p,smallCardSize:!0,index:s,addCartInfo:i===d.qf.SHOP?{cartScene:"259",cartType:1,pageElSn:"200061"}:void 0,hasImages:m,hasBtnAndFit:u,headerClass:ne().headerWarp,itemShowType:w,purchasedCard:h})})),oe=i(3428),le=i(99117),se=i(50453),ce=i(27092),me=i(23509),ue=i(3079),pe=i(84750),de=i(91950),we=i.n(de);const he=async(e,t)=>{if(e&&(0,le.E0)({page_el_sn:228677}),!t)return;const{title:i,confirmBtnText:n,content:r,richContent:o,learnMoreLinkText:l,learnMoreLinkUrl:s}=t||{},c=r?.split("\n")||[],m=()=>{(0,g.AI)(228697,{}),se.Ay.openWindow(s)};(0,me.P)({popupNode:a.createElement(h.A,{onClose:()=>{(0,me.L)({}),(0,g.AI)(228695,{})},title:i,subTitle:o?.textRich?a.createElement(L.l5,{newRichText:o}):c.map(((e,t)=>a.createElement(a.Fragment,null,e,t!==c.length-1&&a.createElement("br",null)))),confirmButtonLabel:n,onConfirm:()=>{(0,me.L)({}),(0,g.AI)(228696,{})},contentAfterBtn:!o&&l&&s?a.createElement("div",{className:we().afterBtnWarp,onClick:m,role:"button",tabIndex:0},l,a.createElement(ce.A,{className:we().rightArrowIcon})):null})})};var ve=(0,n.PA)((function(e){let{reviewStore:t,lang:i,reviewListLength:n,reviewsExpParams:r,className:o}=e;const{showScore:l,showScoreStr:s,mallReviewNum:c,mallReviewNumStr:m,reviewNum:u,reviewAuthenticityPopupVo:d,ratingGuidelinesPopupVo:h,reviewNumStr:g,onlyShowSimilarReviews:f,nativeScore:b,$root:S}=t||{},{goodsScoreText:I,scoreNumInfoList:L}=t.$root?.review?.reviewData||{},{isRTL:E}=(0,C.Sz)(),{t:A}=(0,w.B)("goods",{keyPrefix:"review"}),{t:R}=(0,w.B)("goods"),{t:x}=(0,w.B)("comments"),{noReviewInfo:T,reinforceHighScoreCommentsMinScore:_}=r||{},P=l&&_&&l>=_,N=S?.isSpecialRegion,k=m>0?`(${R(N?"providerRatings":"providerRatings2",{replace:"0",interpolation:{prefix:"{",suffix:"}"},0:m})})`:null,M=(0,a.useMemo)((()=>g?u>1?A("reviews1",{0:g,interpolation:{prefix:"{",suffix:"}"}}):A("review1"):""),[g,u,A]),D=!!b?.textRich?.length,z=x("allyScoreText",{interpolation:{prefix:"{",suffix:"}"},0:l})||s,H=(0,p.w)((()=>{he(D,h)})),F=c>0||u>0,B=!!I&&!!L?.length,G="1"===T,O=["3","4"].includes(T);return!F||!M||B&&f?null:a.createElement(v.Rp,{useClick:!1,page_el_sn:200226,others:{review_type:n>1?0:1}},a.createElement("div",{className:y()(we().topWrap,o)},!B&&a.createElement("div",{className:y()({[we().top]:!0,[we().localReviewTop]:D})},D?a.createElement(a.Fragment,null,a.createElement("div",{className:we().titleScoreWrap,onClick:H,role:"button",tabIndex:0},a.createElement("div",{className:we().title},A("reviews")),!!l&&!O&&a.createElement(v.Rp,{page_el_sn:228677,useClick:!1},a.createElement("div",{className:y()(we().score,{[we().strongScore]:P}),tabIndex:0,role:"link","aria-label":z},a.createElement("span",{className:we().scoreText},s),a.createElement(ue.Zb,{cur:l,activeStarClass:we().activeStar,emptyStarCls:we().emptyStar,className:we().startCn,total:1,size:24})))),!G&&a.createElement(q.A,{className:we().richText,concatRichText:b,isRTL:E})):a.createElement(a.Fragment,null,!G&&a.createElement(a.Fragment,null,a.createElement("div",{className:we().title},M),!!l&&!O&&a.createElement("div",{className:we().line})),!!l&&!O&&a.createElement(v.Rp,{page_el_sn:228677},a.createElement("div",{className:y()(we().score,{[we().strongScore]:P}),onClick:H,tabIndex:0,role:"link","aria-label":z},a.createElement("span",{className:we().scoreText},s),a.createElement(ue.Zb,{cur:l,activeStarClass:we().activeStar,emptyStarCls:we().emptyStar,className:we().startCn,total:5,size:24}))),f?a.createElement("div",{className:we().providerRating},k):null)),f?null:a.createElement(pe.A,{text:A("purchasesTips"),reviewAuthenticityPopupVo:d,pageSnEl:228678})))})),ge=i(13742),fe=i.n(ge);const be=(0,a.memo)((function(e){let{data:t}=e;const{score:i,percent:n=0,percentStr:r=0,percentageStr:o}=t||{};return a.createElement("div",{className:fe().coreItem},a.createElement(oe.A,{cur:i,className:fe().rate,size:"18px"}),a.createElement("div",{className:fe().progressWarp},a.createElement("div",{className:fe().progress},a.createElement("i",{className:fe().progressBar,style:{width:`${n}%`},"aria-hidden":!0}))),a.createElement("div",{className:fe().percentStr},o?a.createElement("span",null,o):a.createElement(a.Fragment,null,a.createElement("span",null,r),a.createElement("span",null,"%"))))}));var Se=(0,n.PA)((e=>{let{className:t,isPage:i,style:n}=e;const{review:r,reviewStore:o}=(0,l.Pj)(),{goodsScoreText:s,scoreNumInfoList:c}=r?.reviewData||{},{scoreNumInfoList:m,goodsScoreText:u,ratingGuidelinesPopupVo:d}=o||{},w=i?c:m,h=i?s:u,g=!!d,f=(0,p.w)((()=>{g&&he(!1,d)}));return h&&w?.length?a.createElement("div",{className:y()({[fe().wrap]:!0,[fe().pageWrap]:i},t),style:n},a.createElement("div",{className:y()({[fe().left]:!0,[fe().pointer]:g}),onClick:f},a.createElement(v.Rp,{page_el_sn:228677},a.createElement("div",{className:fe().scoreText},h))),a.createElement("div",{className:fe().right},w.map((e=>a.createElement(be,{key:e.score,data:e}))))):null})),Ie=i(46272),ye=i(35396),Le=i(40639),Ee=i(65033),Ae=i(2635),Re=i.n(Ae);const xe=(0,a.memo)((e=>{const{score:t,percent:i,percentStr:n,percentageStr:r,text:o,isSelected:l,changeFilterStar:s}=e,[c,m]=(0,a.useState)(!1),u=()=>{s(t),(0,le.E0)({page_el_sn:229181,star_filter_type:0===t?"6":String(t)})},p=()=>{m(!0)},d=()=>{m(!1)};return a.createElement(a.Fragment,null,r||n?a.createElement(a.Fragment,null,a.createElement("div",{className:y()(Re().text,Re().gridItem,l&&Re().isSelected,c&&Re().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},o),a.createElement("div",{className:y()(Re().progressWarp,Re().gridItem,c&&Re().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},a.createElement("div",{className:Re().progress},a.createElement("i",{className:y()(Re().progressBar,l&&Re().isSelectedProgress),style:{width:`${i}%`},"aria-hidden":!0}))),a.createElement("div",{className:y()(Re().percentStr,Re().gridItem,l&&Re().isSelected,c&&Re().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},r?a.createElement("span",null,r):a.createElement(a.Fragment,null,a.createElement("span",null,n),a.createElement("span",null,"%")))):a.createElement("div",{className:y()(Re().totalText,Re().gridItem,l&&Re().isSelected,c&&Re().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},o),a.createElement("div",{className:y()(Re().iconWarp,Re().gridItem,c&&Re().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},!!l&&a.createElement(Le.A,{className:Re().icon})))}));var Te=(0,n.PA)((e=>{let{reviewStore:t,placement:i}=e;const{scoreNumInfoList:n,selectFilterStar:r,changeFilterStar:o,ratingFiltersInfo:l,curReviewStore:s}=t||{},{allRatingsText:c,button:m}=l||{},{text:u}=m||{},{onChangeFilterStar:p}=s||{},[d,w]=(0,a.useState)(!1),[h,v]=(0,a.useState)(!1),[g,f]=(0,a.useState)(i||"bottom"),b=(0,a.useRef)(null),S=d||h&&0!==r,I=(0,a.useCallback)((()=>{if(d&&(0,le.E0)({page_el_sn:229181,star_filter_type:"0"}),w((e=>!e)),!b.current)return;const e=Math.abs(b.current.getBoundingClientRect().bottom-window.innerHeight);f(e<200?"top":i||"bottom")}),[d]),y=(0,a.useCallback)((e=>{w(!1),v(!0),o(e)}),[o,p]);return u&&n&&l&&Array.isArray(n)&&n.length?a.createElement("div",{ref:b},a.createElement(H.A,{visible:d,className:Re().warp,overlay:a.createElement("div",{className:Re().overlayWarp},a.createElement(xe,{score:0,text:c||"",isSelected:0===r,changeFilterStar:y}),(n||[]).map((e=>{if(!e)return null;const{score:t,percent:i,percentStr:n,percentageStr:o,text:l}=e,s=t===r;return a.createElement(xe,{score:t,percent:i,percentStr:n,percentageStr:o,isSelected:s,text:l,changeFilterStar:y})}))),placement:g,hideArrow:!0,trigger:["click"]},a.createElement(Ee.A,{text:u||"",onClick:I,isSelected:S,pageSn:229181,loggerParams:{star_filter_type:"0"},useClick:!1}))):null})),_e=i(2397),Pe=i(3187),Ce=i.n(Pe);const Ne=(0,n.PA)((e=>{let{className:t,isShowSortSelector:i,onReviewSortChange:n,labels:r,onLabelToggle:o,selectedLabelId:l,sortType:s,sortTypeInfoList:c,pageElSn:m,reviewStore:u,showRateFilter:p,showSortStaticLable:d,handleStaticSortClick:g,defaultSortVisible:f,isPage:b,onMouseDownFunc:S,onMouseLeaveFunc:I,mostRecentHandle:A,reviewsExpParams:R,sortTypeInfoExtra:x,isItemReview:T}=e;const{t:_}=(0,w.B)("comments"),P=(e,t)=>{const{title:i,content:n,confirmText:r}=t?.content||{};n&&r&&(e?.stopPropagation(),(0,me.P)({popupNode:a.createElement(h.A,{onClose:me.L,title:i,confirmButtonLabel:r,onConfirm:me.L},a.createElement("p",{className:Ce().sortPopupContent},n))}))},{text:C,code:N,richText:k}=c?.[0]||{},M=!!d&&!!C,{text:D,code:z}=x?.[0]||{},{sortTypeStyle:H}=T&&R||{},F=!!D&&!!H,B="2"===H,G=(0,Ie.A)((()=>{A?.(z)}));return r&&r.length||c&&c.length&&(i||d)?a.createElement(v.Rp,{page_el_sn:m?.pageSn,useClick:!1},a.createElement("div",null,!!B&&a.createElement("div",{className:Ce().splitSortWrap},a.createElement("span",{className:Ce().sortLable},_("sortBy"),":"),b?a.createElement("div",{className:y()({[Ce().splitTagRecommend]:!0,[Ce().sortSelect]:s===N}),onClick:g,role:"button",tabIndex:0},k?a.createElement(L.l5,{className:Ce().recommendRich,newRichText:k,customRenderWhiteList:[ye.E.tips],customRenderTextRichItem:e=>{const{type:t,value:i,action:n}=e||{};return 100===t&&i?a.createElement(O.Ay,{src:i,className:Ce().yiwenIcon,onClick:e=>P(e,n),alt:""}):null}}):a.createElement(a.Fragment,null,a.createElement("span",null,C),a.createElement(E.hu,{className:Ce().arrow,direction:""})),a.createElement("div",{className:Ce().sortLine})):a.createElement(_e.A,{source:c,sortType:s,selectCallback:n,pageElSn:m?.selectSn,placement:"bottomLeft",style:{right:"100%",left:0},innerStyle:{transform:"none"},sortTypeStyle:H}),a.createElement("span",{className:y()({[Ce().mostRencent]:!b,[Ce().sortSelect]:s===z}),onClick:G,role:"button",tabIndex:0},D)),a.createElement("div",{className:y()(Ce().sortWrap,{[Ce().noLableSort]:!r?.length&&!p&&B},t)},!!M&&!B&&a.createElement("div",{className:y()(Ce().staticSort,{[Ce().selectSort]:f||0===s&&!!H,[Ce().noPointer]:H}),onClick:g,tabIndex:0,role:"button"},k?a.createElement(L.l5,{className:Ce().recommendRich,newRichText:k,customRenderWhiteList:[ye.E.tips],customRenderTextRichItem:e=>{const{type:t,value:i,action:n}=e||{};return 100===t&&i?a.createElement(O.Ay,{src:i,className:Ce().yiwenIcon,onClick:e=>P(e,n),alt:""}):null}}):a.createElement(a.Fragment,null,a.createElement("span",null,C),a.createElement(E.hu,{className:Ce().arrow,direction:""}))),!!i&&!B&&a.createElement(_e.A,{source:c,sortType:s,selectCallback:n,pageElSn:m?.selectSn,placement:"bottomLeft",style:{right:"100%",left:0},innerStyle:{transform:"none"},sortTypeStyle:H}),!!F&&!B&&a.createElement(Ee.A,{pageSn:m?.labelSn,text:D,labelId:z,onClick:G,isSelected:s===z,isPage:b,readableText:D}),!!H&&!B&&!(!r?.length&&!p)&&a.createElement("div",{className:Ce().tabLine}),!!p&&a.createElement(Te,{reviewStore:u,placement:"2"===H?"bottomLeft":void 0}),(r||[]).map(((e,t)=>{const{text:i,labelId:n,textFormat:r,iconFormat:s,needHighlight:c,richText:u,readableText:p}=e||{},d=n===String(l);return a.createElement(Ee.A,{key:`${n}${i}`,pageSn:s?226149:m?.labelSn,text:i,needHighlight:c,labelId:n,textFormat:r,iconFormat:s,index:t,onClick:o,isSelected:d,concatRichText:u,isPage:b,readableText:p,onMouseDownFunc:S,onMouseLeaveFunc:I})}))))):null}));var ke=Ne,Me=i(22560),De=i.n(Me);var ze=(0,n.PA)((e=>{let{reviewStore:t,className:i,isPage:n,interaction:r,onMouseDownFunc:o,onMouseLeaveFunc:l,reviewsExpParams:s}=e;const{showCommentDialog:c,handleCommentDialogByLable:m,activeTopIndex:u,onReviewSortChange:p,labelsInfo:w,pageLabelsInfo:h,onReviewLabelChange:v,selectedSortLabelId:g,selectedLabelId:f,goodsInfoExpParams:b,querySimilarCommentList:S,handleStaticSort:I,dialogFrom:L,mostRecentHandle:E}=t,A=u===d.qf.ITEM,{sortTypeInfoList:R,labels:x,sortTypeInfoExtra:T}=(n?h:w)[u]||{},_=A?d.A8:d.O7,P=!n&&R&&Array.isArray(R)&&R.length>0,C=n&&Array.isArray(R)&&R.length>0,N=L===d.a7.SORT,k=(0,a.useCallback)((e=>{c?v(e):(r&&r.start({type:"click"}),S(!0),m(e,r))}),[m,S,r,v,c]),M=(0,Ie.A)((async e=>{await(E?.(e,r))})),D=(0,Ie.A)((async()=>{await(I?.(r))})),{showRatingFilters:z}=b||{},H=t.$root?.expParams?.noReviewInfo,F=!n&&A&&"true"===z&&"4"!==H;return u===d.qf.SHOP&&n?null:a.createElement(ke,{labels:x,sortType:g,sortTypeInfoList:R,isShowSortSelector:P,selectedLabelId:f,onReviewSortChange:p,onLabelToggle:k,pageElSn:_,reviewStore:t,className:y()(De().warp,i),showRateFilter:F,showSortStaticLable:C,handleStaticSortClick:D,defaultSortVisible:N,isPage:n,onMouseDownFunc:o,onMouseLeaveFunc:l,mostRecentHandle:M,reviewsExpParams:s,sortTypeInfoExtra:T,isItemReview:A})}));const He=a.forwardRef(((e,t)=>{const{t:i,i18n:n}=(0,w.B)("bec-fe.svg-icons-pc");return a.createElement(k.i,(0,N.A)({ref:t,fill:"#cdcdcd"},e,{path:["M738.2 200.5c23.6 0 42.7 19.1 42.6 42.7l0 452.3c0 75.4-61.1 136.5-136.5 136.5l-366.9 0c-23.6 0-42.7-19.1-42.7-42.7l0-546.1c0-23.6 19.1-42.7 42.7-42.7l460.8 0z m0 17.1l-460.8 0c-14.1 0-25.6 11.5-25.6 25.6l0 546.1c0 14.1 11.5 25.6 25.6 25.6l366.9 0c66 0 119.5-53.5 119.5-119.4l0-452.3c0-14.1-11.5-25.6-25.6-25.6z m-345.6 418.1l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m87.3 0l0 17.1-53.2 0 0-17.1 53.2 0z m-181.2-128l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m93.8 0l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.7 0 0-17.1 59.7 0z m-281.6-128l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m93.8 0l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.7 0 0-17.1 59.7 0z"],"aria-label":e["aria-label"]??(n.exists("aria-label.KongtaiPingjiakong",{ns:"bec-fe.svg-icons-pc"})?i("aria-label.KongtaiPingjiakong"):void 0),rtlPath:["M285.8 200.5c-23.6 0-42.7 19.1-42.6 42.7l0 452.3c0 75.4 61.1 136.5 136.5 136.5l366.9 0c23.6 0 42.7-19.1 42.7-42.7l0-546.1c0-23.6-19.1-42.7-42.7-42.7l-460.8 0z m0 17.1l460.8 0c14.1 0 25.6 11.5 25.6 25.6l0 546.1c0 14.1-11.5 25.6-25.6 25.6l-366.9 0c-66 0-119.5-53.5-119.5-119.4l0-452.3c0-14.1 11.5-25.6 25.6-25.6z m345.6 418.1l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-87.3 0l0 17.1 53.2 0 0-17.1-53.2 0z m181.2-128l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-93.8 0l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.7 0 0-17.1-59.7 0z m281.6-128l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-93.8 0l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.7 0 0-17.1-59.7 0z"]}))}));He.supportRtl=!0;var Fe=He,Be=i(8160),Ge=i.n(Be);function qe(e){let{className:t,onSecondaryButtonClick:i}=e;const{t:n}=(0,w.B)("comments");return a.createElement("div",{className:y()(Ge().empty,t)},a.createElement(B.A,{title:n("emptyTitle"),desc:n("emptySubtitle"),imageConfigs:{svg:a.createElement(Fe,{className:Ge().svg})},secondaryButtonLabel:n("seeAllReviews"),onSecondaryButtonClick:i}))}var Oe=(0,a.memo)(qe),We=i(41177),Ve=i.n(We);var Ue=(0,n.PA)((e=>{let{reviewStore:t,className:i}=e;const{activeTopIndex:n,selectFilterStar:r,selectedLabelId:o,itemReviewInfo:l,mallReviewInfo:s,scoreNumInfoList:c,labelsInfo:m,commentHasMore:u}=t,p=n===d.qf.ITEM,{emptyReviewFoldText:w}=(p?l:s)||{};let h;if(r){if(!p)return null;const e=c?.find((e=>e.score===r));h=e?.emptyReviewFoldText}else if(o){const e=m?.[n]?.labels?.find((e=>e.labelId===o));h=e?.emptyReviewFoldText}else h=w;return!h||u?null:a.createElement("div",{className:y()(Ve().globaleText,i)},h)})),je=i(95789),Xe=i(72620),$e=i(1528),Qe=i(59661),Je=i(10147),Ke=i(81490),Ye=i.n(Ke),Ze=(0,a.memo)((e=>{let{closePopup:t,buttonType:i=$e.el.primary,dialogData:n}=e;const{title:r="",content:o="",confirmBtnText:l=""}=n||{};return r?a.createElement(Qe.Ay,{onClick:t},a.createElement("div",{className:Ye().wrap},a.createElement("div",{className:Ye().content},a.createElement("div",{className:Ye().head},r),a.createElement("div",{className:Ye().container},a.createElement("div",{className:Ye().contentText},o),a.createElement(Je.A,{className:Ye().confirmBtn,type:i,onClick:t},l))))):null})),et=i(50874),tt=i.n(et);var it=(0,n.PA)((e=>{let{title:t="",className:i,reviewStore:n,similarReviewGuidelinesPopup:r}=e;const{onlyShowSimilarReviews:o,reviewAuthenticityPopupVo:l}=n||{},{t:s}=(0,w.B)("goods",{keyPrefix:"review"});return t?a.createElement("div",{className:y()(tt().simillarReviewListWrap,i)},a.createElement("div",{className:tt().header},a.createElement("div",{className:tt().simillarTitle},a.createElement("div",{className:tt().title},t),a.createElement("div",{onClick:()=>{const e=(0,je.A)(a.createElement(Ze,{dialogData:r,closePopup:()=>{e?.()}}),{})},className:tt().shcdowIcon,tabIndex:0,role:"button"},a.createElement(Xe.A,{className:tt().icon,"aria-hidden":!0,style:{width:"14px",height:"14px"}}))),o?a.createElement(pe.A,{text:s("purchasesTips"),reviewAuthenticityPopupVo:l,pageSnEl:228678}):null)):null})),at=i(54198),nt=i.n(at);const rt=()=>null,ot=(0,n.PA)((e=>{let{data:t,index:i}=e;const n=(0,l.Pj)(),{reviewStore:r,expParams:o={},pageSN:s,trackingInfo:c}=n||{},{toggleAnonymousSimilar:m,activeTopIndex:u,newDeleteReview:d}=r||{},w=(0,p.w)((async(e,t,i)=>{await m(e,t,!1,i)})),h=(0,p.w)((async(e,t)=>{await d(e,t)}));return a.createElement(re,{data:t,pageSn:s,activeTopIndex:u,onDeleteReview:h,onToggleAnonymous:(e,t)=>w(e,i,t),expParams:o,index:i,isSimilarDialogItem:!0,trackingInfo:c,itemShowType:ie.J.GOODS_DIALOG})}));var lt=(0,n.PA)((e=>{let{reviewStore:t,hideSimilarTitle:i}=e;const{querySimilarCommentList:n,tabIndexTitle:r,activeTopIndex:o,similarCommentHasMore:l,similarCommentList:s,similarDialogInfo:c,listShowSimilarReviews:m}=t,u=!s?.length&&l,{similarReviewSubTitle:p,similarReviewGuidelinesPopup:w}=c||{},h=Object.keys(r).length>1&&o===d.qf.SHOP;return s?.length&&m&&!h?a.createElement("div",{className:nt().wrap},i?null:a.createElement(it,{className:nt().similarTitle,reviewStore:t,title:p,similarReviewGuidelinesPopup:w}),a.createElement(P.A,{wrapperClass:nt().list,datasource:s,hasMore:!!l,itemKey:"reviewId",loadMoreData:n,renderItem:ot,showLoading:!u,ListEndView:rt,loadingText:"",autoOptimize:!1})):null})),st=i(61708),ct=i.n(st);const mt=(0,n.PA)((function(e){let{data:t,index:i}=e;const n=(0,l.Pj)(),{reviewStore:r,expParams:o={},pageSN:s,trackingInfo:c}=n||{},{activeTopIndex:m,newToggleAnonymous:u,newDeleteReview:d}=r||{},w=(0,p.w)((async(e,t,i)=>{await u(e,t,!1,i)})),h=(0,p.w)((async(e,t)=>{await d(e,t)})),v=(0,p.w)(((e,t)=>{w(e,i,t)}));return a.createElement(re,{data:t,pageSn:s,activeTopIndex:m,onDeleteReview:h,onToggleAnonymous:v,expParams:o,index:i,trackingInfo:c,itemShowType:ie.J.GOODS_DIALOG,purchasedCard:m===te.qf.ITEM})})),ut=()=>null,pt=(0,n.PA)((function(e){let{reviewStore:t}=e;const{queryCommentList:i,commentHasMore:n,commentList:r}=t,o=!r?.length&&n;return r?.length?a.createElement("div",{className:ct().wrap},a.createElement(P.A,{wrapperClass:ct().list,datasource:r,hasMore:!!n,itemKey:"reviewId",loadMoreData:i,renderItem:mt,showLoading:!o,ListEndView:ut,loadingText:"",autoOptimize:!1})):null}));var dt=(0,s.A)((0,r.W4)(),n.PA)((function(e){let{reviewStore:t,interaction:i}=e;const{showCommentDialog:n,closeCommentDialog:r,activeTopIndex:o,reviewAuthenticityPopupVo:l,showAllReviews:s,commentList:c,similarDialogInfo:m,similarCommentList:u,listShowSimilarReviews:p,selectedLabelId:d,selectFilterStar:g,tabIndexTitle:f,goodsInfoExpParams:b,$root:S}=t,{isSpecialRegion:I}=S||{},{t:y}=(0,w.B)("comments"),{t:L}=(0,w.B)("goods",{keyPrefix:"review"}),E=o===te.qf.ITEM,A=m?.similarReviewTitle,R=!c?.length,x=!d&&!g,T=Object.keys(f||{}).length,_=p&&(T<2||E)&&!!u?.length,P=R&&x&&_;let C=!1;R&&(C=!x||!_);let N=y("itemReviews");if(!C&&R&&A)N=A;else{const e=y(I?"shopReviews":"shopReviews2");N=E?y("itemReviews"):e}return(0,a.useEffect)((()=>{n&&(0,G.A)("open_comment_dialog_open")}),[n]),n?a.createElement(a.Fragment,null,a.createElement(h.A,{onClose:r,title:N,size:"l",baseDialogProps:{dialogProps:{className:ct().dialogWrap}},scrollContainerProps:{scrollClassName:ct().scroll}},a.createElement(v.Rp,{useClick:!1,page_el_sn:227612,others:{review_type:o}},a.createElement("div",{className:ct().dialogWrap},a.createElement(pe.A,{text:L("purchasesTips"),reviewAuthenticityPopupVo:l,isDialog:!0}),!!E&&a.createElement(Se,{className:ct().scoreRate}),!P&&a.createElement(ze,{reviewStore:t,reviewsExpParams:b}),C?a.createElement(a.Fragment,null,a.createElement(Ue,{reviewStore:t,className:ct().globaleText}),a.createElement(Oe,{className:ct().empty,onSecondaryButtonClick:s})):a.createElement(a.Fragment,null,a.createElement(pt,{reviewStore:t}),!R&&a.createElement(Ue,{reviewStore:t})),a.createElement(lt,{hideSimilarTitle:!!R&&!C,reviewStore:t})))),a.createElement(i.End,{name:"pc_goods_CommentListDialog"})):null}));const wt=(0,a.createContext)({weakBorderLabel:!1,twoLineLabel:!1,scrollLabel:!1,boldLabel:!1,reviewLabelStyle:""}),ht=e=>{let{value:t,children:i}=e;return a.createElement(wt.Provider,{value:t}," ",i," ")};var vt=i(82370),gt=i(53938),ft=i(36162),bt=i.n(ft);var St=(0,n.PA)((function(e){let{reviewStore:t,reviewListLength:i,setHideShopReview:n,hideShopReview:r}=e;const o=(0,gt.d)(),{t:l}=(0,w.B)("goods",{keyPrefix:"review"}),{newSetActiveIndex:s,mallReviewNum:c,mallReviewNumStr:m,needShowSimilarReviews:u,noGoodsReviewHasShopReview:p,mallReview:h,similarReview:g,$root:f}=t||{},b=f?.isSpecialRegion,{withoutReviewTitle:S,withoutReviewText:I}=h||{},{withoutReviewText:L,withoutReviewTitle:E}=g||{},A=(u?E:S)||l("noItemReviewYet"),R=m,x=l(c>1?b?"shopItems":"shopItems2":b?"shopItem":"shopItem2",{reviewNumber:R}),T=u?L:I||x,_=i<2&&u,P=p||_,C=l(b?"checkOutShopItem":"checkOutShopItem2");return P?a.createElement("div",{className:y()(bt().noGoodsReviewTips,bt().borderMagin,{[bt().showBottomBorder]:!r,[bt().showSimilarReviews]:_})},a.createElement("div",{className:bt().noGoodsReviewTipTitle,tabIndex:0,role:"link"},A),a.createElement(v.Rp,{useClick:!0,page_el_sn:207847,others:{check_out_shop_reviews:r?0:1}},a.createElement("div",{className:y()(bt().noGoodsReviewTipContent,{[bt().similarReviews]:u}),onClick:()=>{u||(n(!r),s(d.qf.SHOP))},tabIndex:0,role:"button","aria-label":`${T}${C}`},a.createElement("span",{"aria-hidden":!0},T," "),u?null:a.createElement("span",{"aria-hidden":!0},C),u?null:a.createElement(vt.Ay,(0,N.A)({className:y()(bt().noGoodsItemTipsArrow,{[bt().arrowUp]:!r}),src:"https://aimg.kwcdn.com/upload_aimg/tm/3b58a9b5-bfbe-43e2-9729-b7b5598fece1.png","aria-hidden":!0,alt:""},o))))):null})),It=i(58231),yt=i.n(It);var Lt=(0,n.PA)((e=>{let{expParams:t,reviewStore:i,pageSN:n,trackingInfo:r,openCommentDialog:o}=e;const{activeTopIndex:l,initPageReviewListMap:s,onlyShowSimilarReviews:c,newToggleAnonymous:m,newDeleteReview:u,onMouseDownPreloadData:d,onMouseLeaveClearPreloadPromise:w}=i,h=(0,p.w)((async(e,t,i)=>{await m(e,t,!0,i)})),v=(0,p.w)((async(e,t)=>{await u(e,t,!0)})),g=s[l]||[];return c?null:a.createElement("div",{role:"button",tabIndex:0,onClick:o,onMouseDown:d,onMouseLeave:w,className:yt().reviewListWrapper},g.map(((e,i)=>{const{reviewId:o}=e||{};return a.createElement(re,{key:o,data:e,pageSn:n,activeTopIndex:l,onDeleteReview:v,onToggleAnonymous:(e,t)=>h(e,i,t),expParams:t,index:i,trackingInfo:r,hasImages:!1,hasBtnAndFit:!1,itemShowType:ie.J.GOODS_PAGE})})))})),Et=i(32640),At=i.n(Et);var Rt=(0,n.PA)((e=>{let{expParams:t,reviewStore:i,pageSN:n,trackingInfo:r,openCommentDialog:o}=e;const{activeTopIndex:l,similarReview:s,tabIndexTitle:c,needShowSimilarReviews:m,toggleAnonymousSimilar:u,newDeleteReview:w,onMouseDownPreloadData:h,onMouseLeaveClearPreloadPromise:v}=i,g=Object.keys(c).length>1&&l===d.qf.SHOP,{reviewInfoList:f,similarReviewSubTitle:b,similarReviewGuidelinesPopup:S}=s||{},I=(0,p.w)((async(e,t,i)=>{await u(e,t,!0,i)})),y=(0,p.w)((async(e,t)=>{await w(e,t,!0)}));return!m||g?null:a.createElement("div",{role:"button",tabIndex:0,className:At().simillarReviewListWrap,onClick:o,onMouseDown:h,onMouseLeave:v},a.createElement(it,{reviewStore:i,className:At().similarTitle,title:b,similarReviewGuidelinesPopup:S}),a.createElement("div",{className:At().simillarReviewList},f.map(((e,i)=>{const{reviewId:o}=e||{};return a.createElement(re,{key:o,data:e,pageSn:n,activeTopIndex:l,onDeleteReview:y,onToggleAnonymous:(e,t)=>I(e,i,t),expParams:t,index:i,trackingInfo:r,hasImages:!1,hasBtnAndFit:!1,itemShowType:ie.J.GOODS_PAGE})}))))})),xt=i(33765),Tt=i.n(xt);var _t=(0,n.PA)((function(e){let{hideShopReview:t,reviewStore:i,pageSN:n,trackingInfo:r,reviewsExpParams:o,interaction:l}=e;const{t:s}=(0,w.B)("comments"),{handleCommentDialog:c,noGoodsReviewHasShopReview:m,needShowSimilarReviews:u,onMouseDownPreloadData:d,onMouseLeaveClearPreloadPromise:h}=i||{},g=(0,p.w)((()=>{(0,G.A)("click_open_comment_dialog_button"),l.start({type:"click"}),c(l)}));return m&&t&&!u?null:a.createElement(a.Fragment,null,a.createElement(ze,{reviewStore:i,isPage:!0,className:Tt().sort,interaction:l,reviewsExpParams:o,onMouseDownFunc:d,onMouseLeaveFunc:h}),a.createElement(Lt,{expParams:o,reviewStore:i,pageSN:n,trackingInfo:r,openCommentDialog:g}),a.createElement(Rt,{expParams:o,reviewStore:i,pageSN:n,trackingInfo:r,openCommentDialog:g}),a.createElement(v.Rp,{page_el_sn:200451},a.createElement(Je.A,{onClick:g,onMouseDown:d,onMouseLeave:h,type:$e.el.border,size:"lg",className:Tt().moreWarp,accessibility:!0},s("seeAllReviews"))))})),Pt=i(34760),Ct=i(40822),Nt=i(81411),kt=i(15471),Mt=i.n(kt);const Dt=(0,a.memo)((e=>{let{text:t,onClick:i,className:n,dataIdx:r,isActive:o}=e;const[l,s,,c]=(0,Nt.A)(),m=(0,a.useCallback)((e=>{o?c?.(void 0):s?.onMouseLeave?.(e)}),[s,o,c]),u=(0,a.useCallback)((e=>{"Enter"===e.key&&i(e)}),[]);return a.createElement(Ct.H2,{role:"tab",tabIndex:0,"aria-label":t,"aria-selected":o,text:t,onClick:i,className:y()(n,!o&&l,Mt().reviewTabItem),"data-idx":r,onMouseEnter:s.onMouseEnter,onMouseLeave:m,onKeyDown:u},t)}));var zt=(0,n.PA)((e=>{let{reviewStore:t,reviewListLength:i}=e;const{activeTopIndex:n,setTopActiveIndex:r,subtitleText:o,tabIndexTitle:l}=t||{},s=(0,a.useCallback)((e=>{const t=+e.currentTarget.dataset.idx;r(t)}),[r]);return i<2?null:a.createElement("div",{className:Mt().topContainer},a.createElement("div",{className:Mt().top,role:"tablist"},Object.keys(l).map(((e,t)=>{const i=l[e];return a.createElement(a.Fragment,{key:t},!!t&&a.createElement("div",{className:Mt().topLabelSeperator}),a.createElement(Dt,{key:e,className:y()(Mt().topLable,{[Mt().active]:n===Number(e)}),dataIdx:e,onClick:s,text:i,isActive:n===Number(e)}))}))),!!o&&n===te.qf.ITEM&&a.createElement("div",{className:Mt().subtitleText,dangerouslySetInnerHTML:{__html:o}}))})),Ht=i(63669),Ft=i(81482),Bt=i.n(Ft);var Gt=(0,s.A)((0,r.W4)({name:"Review"}),n.PA)((()=>{const e=(0,l.Pj)(),{query:t={},reviewStore:i,commonCommentStore:n,commentBigPictureStore:r,globalResizeTrigger:s,lang:c,expParams:m={},control:u,pageSn:p,CartScene:w,trackingInfo:h,$axiosHttp:v,isRobot:g,reviewGalleryStore:f}=e||{},{activeTopIndex:b,goodsInfoExpParams:S,tabIndexTitle:I,clothFitReviewInfoList:y,needShowSimilarReviews:L,mallReviewNum:E,reviewNum:A,showReview:R,reviewClothFitReviewText:x,clothFitTipV2:T}=i||{},{showGalleryReview:_}=f||{},P=(0,a.useMemo)((()=>({...m,...S})),[m,S]),C="1"===m?.removePcMallReviewInGoodsDetail,N=(0,a.useMemo)((()=>{const e=P?.reviewLabelStyle;return{reviewLabelStyle:e,boldLabel:"1"===e,weakBorderLabel:["1","2","3","4"].includes(e),twoLineLabel:"5"===e,scrollLabel:"6"===e}}),[P]),k=Object.keys(I).length,{_anchoring_review:M}=t||{},D=0===b,[z,H]=(0,a.useState)(!0),F=(0,o.Mj)(),B=E>0||A>0,G=(0,a.useRef)(null);return(0,a.useEffect)((()=>{M===d.NO&&G.current&&G.current.scrollIntoView&&G.current.scrollIntoView()}),[M,s]),(0,a.useEffect)((()=>{(0,Ht.G)(v)}),[v]),(k&&R||L)&&!g?a.createElement(ht,{value:N},a.createElement("div",{className:Bt().wrap,id:"reviewContent",ref:G,"data-nosnippet":!0},a.createElement(ve,{reviewStore:i,lang:c,reviewListLength:k,reviewsExpParams:P}),a.createElement(Z,{commentDialogInteraction:F}),C?null:a.createElement(zt,{reviewStore:i,reviewListLength:k}),!B||_&&D?null:a.createElement("div",{className:Bt().baseLine}),a.createElement(Pt.A,{clothFitReviewInfoList:y,isShowReviewProgress:D,clothFitTipV2:T,reviewClothFitReviewText:x}),a.createElement(St,{reviewStore:i,reviewListLength:k,setHideShopReview:H,hideShopReview:z}),a.createElement(_t,{reviewStore:i,trackingInfo:h,reviewsExpParams:P,hideShopReview:z,pageSN:p,interaction:F}),a.createElement(dt,{reviewStore:i,interaction:F}),a.createElement(ee,{expParams:P,commonCommentStore:n,commentBigPictureStore:r,control:u,reviewStore:i,pageSN:p,CartScene:w}))):a.createElement(ve,{reviewStore:i,lang:c,reviewListLength:k,reviewsExpParams:P,className:Bt().titleWrap})}))},63669:function(e,t,i){"use strict";i.d(t,{G:function(){return g}});var a=i(63962),n=i(90230);i(44114);const r=e=>{const t=e?.isSimilarReview||!1,i=(e?.data||e||[]).map((e=>{const i=[];let{pictures:a,video:n,specs:r,goodsInfo:o,goodsName:l,goodsLinkUrl:s,goodsSeoLinkUrl:c,...m}=e||{};if(n){const t=e.video,a={url:t.coverImageUrl,width:t.coverImageWidth,height:t.coverImageHeight,videoUrl:t.url,videoHeight:t.height,videoWidth:t.width};i.push(a)}return(s||c)&&(o={...o||{},linkUrl:c||s,goodsName:l}),o?.seoLinkUrl&&(o.linkUrl=o.seoLinkUrl),m.goodsInfo=o,a&&i.push(...e.pictures),m.isSimilarReview=t,m.list=i,m.specs=r?JSON.parse(r):[],m})),a=e.maxListSize??0,n=e.popupTitle??"",r=e?.expParams;return{list:i,reviewMaxListSize:a,popupTitle:n,expParams:r}};function o(e){e.isSimilarReview=!0;const t=r(e);return{...e,...t}}function l(e){const{sortTypeInfoList:t}=e||{},i={sortTypeInfoList:(t||[]).map(((e,t)=>{const{code:i,text:a}=e||{};return{...e||{},labelId:t?i:0,id:i,name:a}}))};return{...e,...i}}const s="/api/bg/engels/reviews/info",c="/api/bg/engels/reviews/list",m="/api/bg/engels/reviews/mall/info",u="/api/bg/engels/reviews/mall/list",p="/api/bg/engels/reviews/delete/review",d="/api/bg/engels/reviews/anonymous/review",w="/api/bg/engels/reviews/similar/list";class h extends a.dD{getItemsLabels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:s,params:e,format:l})}getShopLabels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:m,params:e,format:l})}queryReviewList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{activeTopIndex:t}=e;return this.getRisk({url:t?u:c,params:e,format:r})}querySimilarReviewList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:w,params:e,format:o})}deleteReview(e){return this.postRiskNew({url:p,params:e})}changeAnonymousReview(e){return this.postRisk({url:d,params:{...e,...(0,n.L8)()}})}}let v;const g=e=>v||(v=new h(e),v)},87815:function(e,t,i){"use strict";i.d(t,{A:function(){return Re}});var a=i(13425),n=i(60055),r=(i(35639),i(44114),i(64894)),o=i.n(r),l=i(37451),s=i(83052),c=i(20162),m=i(63962),u=i(89747),p=i(11775);var d,w,h,v,g,f,b,S,I,y,L,E,A,R,x,T,_,P,C,N,k,M,D,z,H,F,B,G,q,O,W,V,U,j,X,$,Q,J,K,Y,Z,ee,te,ie,ae,ne,re,oe,le,se,ce,me,ue,pe,de,we,he,ve,ge,fe,be,Se,Ie,ye=function(){let e=arguments.length>1?arguments[1]:void 0;const t={},i=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((a=>{const n=e(a);t[n]||(i.push(a),t[n]=!0)})),i},Le=i(92620),Ee=i(15031),Ae=i(63669);let Re=(d=class extends m.zw{constructor(e){var t;super(e),t=this,(0,a.A)(this,"activeTopIndex",w,this),this.nativeScore=void 0,this.showScore=void 0,this.showScoreStr=void 0,this.reviewNum=void 0,this.mallReviewNum=void 0,this.reviewNumStr=void 0,this.mallReviewNumStr=void 0,(0,a.A)(this,"dialogFrom",h,this),(0,a.A)(this,"noGoodsReviewHasShopReview",v,this),(0,a.A)(this,"goodsInfo",g,this),(0,a.A)(this,"goodsInfoExpParams",f,this),(0,a.A)(this,"mallInfoExpParams",b,this),(0,a.A)(this,"subtitleText",S,this),(0,a.A)(this,"scoreNumInfoList",I,this),(0,a.A)(this,"ratingFiltersInfo",y,this),(0,a.A)(this,"itemReviewInfo",L,this),(0,a.A)(this,"mallReviewInfo",E,this),(0,a.A)(this,"goodsScoreText",A,this),(0,a.A)(this,"renderReviewInfo",R,this),(0,a.A)(this,"getLabels",x,this),this.getLabelsListPromise=null,this.transferGetLabels=async()=>{const{goodsId:e}=this.$root||{},t={goods_id:e,need_fill_goods_info:!0};let i;return this.mouseDownPreload?(this.getLabelsListPromise||(this.getLabelsListPromise=this.reviewService.getItemsLabels(t)),i=await this.getLabelsListPromise):i=await this.reviewService.getItemsLabels(t),i},(0,a.A)(this,"getShopLabels",T,this),(0,a.A)(this,"mallReview",_,this),(0,a.A)(this,"ratingGuidelinesPopupVo",P,this),(0,a.A)(this,"reviewAuthenticityPopupVo",C,this),(0,a.A)(this,"clothFitReviewInfoList",N,this),(0,a.A)(this,"showReview",k,this),(0,a.A)(this,"showGoodsScore",M,this),(0,a.A)(this,"similarReview",D,this),this.reviewDisplayNum=2,(0,a.A)(this,"listShowSimilarReviews",z,this),(0,a.A)(this,"needShowSimilarReviews",H,this),this.mixedReview=!1,(0,a.A)(this,"reviewClothFitReviewText",F,this),(0,a.A)(this,"clothFitTipV2",B,this),(0,a.A)(this,"resetStoreData",G,this),(0,a.A)(this,"initDataAction",q,this),(0,a.A)(this,"setTopActiveIndex",O,this),(0,a.A)(this,"newSetActiveIndex",W,this),(0,a.A)(this,"showCommentDialog",V,this),(0,a.A)(this,"commentList",U,this),(0,a.A)(this,"commentPage",j,this),(0,a.A)(this,"commentHasMore",X,this),this.loadCommentMoreLock=!1,(0,a.A)(this,"selectedSortLabelId",$,this),(0,a.A)(this,"selectedLabelId",Q,this),(0,a.A)(this,"selectFilterStar",J,this),(0,a.A)(this,"labelsInfo",K,this),(0,a.A)(this,"pageLabelsInfo",Y,this),(0,a.A)(this,"pageReviewListMap",Z,this),(0,a.A)(this,"tabIndexTitle",ee,this),(0,a.A)(this,"initPageReviewListMap",te,this),(0,a.A)(this,"handleCommentDialog",ie,this),this.mouseDownPreload=!1,this.preloadSelectedLabelId="",this.onMouseDownPreloadData=e=>{this.clearPreloadPromise(),!e||"string"!=typeof e&&"number"!=typeof e||(this.preloadSelectedLabelId=e),this.mouseDownPreload=!0,this.transferQueryCommentList(!0),this.trasferQuerySimilarCommentList(!0),this.transferGetLabels(),this.preloadSelectedLabelId=""},this.onMouseLeaveClearPreloadPromise=()=>{setTimeout(this.clearPreloadPromise,300)},this.clearPreloadPromise=()=>{this.preloadSelectedLabelId="",this.mouseDownPreload=!1,this.getQueryCommentListPromise=null,this.getLabelsListPromise=null,this.querySimilarCommentListPromise=null},(0,a.A)(this,"handleCommentDialogByLable",ae,this),(0,a.A)(this,"closeCommentDialog",ne,this),(0,a.A)(this,"clearCommentList",re,this),(0,a.A)(this,"onReviewSortChange",oe,this),this.changeSortLableAndJudgeIfNeedRequestData=e=>{const t=!(this.selectedSortLabelId===e||this.loadCommentMoreLock);return t&&(this.selectedSortLabelId=e??this.selectedSortLabelId),t},(0,a.A)(this,"onReviewLabelChange",le,this),this.changeSelectedLable=e=>{const t=this.selectedLabelId===e;this.selectedLabelId=t?"":e,this.selectFilterStar=0},(0,a.A)(this,"changeFilterStar",se,this),(0,a.A)(this,"showAllReviews",ce,this),this.commentSize=10,(0,a.A)(this,"onlyShowSimilarReviews",me,this),(0,a.A)(this,"queryCommentList",ue,this),this.getQueryCommentListPromise=null,this.transferQueryCommentList=async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{goodsId:a,goods:n,mallId:r}=t.$root;e&&(t.commentPage=1);const o=i.activeTopIndex?i.activeTopIndex:t.activeTopIndex,l=t.commentPage,s=o===Ee.qf.ITEM?{goods_review_label_show:!0,...t.selectFilterStar?{filter_score:t.selectFilterStar}:{}}:{mall_id:n?.mallId||r,activeTopIndex:t.activeTopIndex,source:2},c={goods_id:a,page:l,size:t.commentSize,need_max_size:!0,sort_type:t.selectedSortLabelId,...s,...t.preloadSelectedLabelId||t.selectedLabelId?{label_id:t.preloadSelectedLabelId||t.selectedLabelId||""}:{},...i};let m;return t.mouseDownPreload?(t.getQueryCommentListPromise||(t.getQueryCommentListPromise=t.reviewService.queryReviewList(c)),m=await t.getQueryCommentListPromise):m=await t.reviewService.queryReviewList(c),m},this.setAssignCommentList=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=a.activeTopIndex?a.activeTopIndex:t.activeTopIndex,{list:r,reviewMaxListSize:s,expParams:c}=e,m=o()(r)?r:[],u=n===Ee.qf.ITEM;(0,l.h5)((()=>{if(!u&&"100000000"===String(a?.label_id||t.selectedLabelId)){let e=(t.commentPage-1)*t.commentSize+1;m.forEach((t=>{t.picListIndex=e++}))}const e=i?m:[...t.commentList,...m];t.commentHasMore=s>e.length&&s>10,t.commentList=ye(e,(e=>e?.reviewId)),i&&t.commentList.length&&(t.pageReviewListMap[n]=t.commentList),t.initPageReviewListMap[n].length||(t.initPageReviewListMap[n]=t.pageReviewListMap[n]),t.loadCommentMoreLock=!1,t.commentPage+=1}))},(0,a.A)(this,"similarCommentHasMore",pe,this),this.loadSimilarCommentMoreLock=!1,(0,a.A)(this,"similarCommentPage",de,this),(0,a.A)(this,"similarCommentList",we,this),(0,a.A)(this,"similarDialogInfo",he,this),(0,a.A)(this,"querySimilarCommentList",ve,this),this.querySimilarCommentListPromise=null,this.trasferQuerySimilarCommentList=async e=>{e&&(this.similarCommentPage=1);const t={goods_id:this.$root.goodsId,page:this.similarCommentPage,size:this.commentSize,need_max_size:!0};let i;return this.mouseDownPreload?(this.querySimilarCommentListPromise||(this.querySimilarCommentListPromise=this.reviewService.querySimilarReviewList(t)),i=await this.querySimilarCommentListPromise):i=await this.reviewService.querySimilarReviewList(t),i},(0,a.A)(this,"newDeleteReview",ge,this),(0,a.A)(this,"newToggleAnonymous",fe,this),(0,a.A)(this,"toggleAnonymousSimilar",be,this),(0,a.A)(this,"handleStaticSort",Se,this),(0,a.A)(this,"mostRecentHandle",Ie,this),(0,l.Gn)(this)}get reviewService(){return(0,Ae.G)(this.$root.$axiosHttp)}},w=(0,n.A)(d.prototype,"activeTopIndex",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.qf.ITEM}}),h=(0,n.A)(d.prototype,"dialogFrom",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.a7.EMPTY}}),v=(0,n.A)(d.prototype,"noGoodsReviewHasShopReview",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=(0,n.A)(d.prototype,"goodsInfo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,n.A)(d.prototype,"goodsInfoExpParams",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=(0,n.A)(d.prototype,"mallInfoExpParams",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),S=(0,n.A)(d.prototype,"subtitleText",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=(0,n.A)(d.prototype,"scoreNumInfoList",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,n.A)(d.prototype,"ratingFiltersInfo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,n.A)(d.prototype,"itemReviewInfo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,n.A)(d.prototype,"mallReviewInfo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,n.A)(d.prototype,"goodsScoreText",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,n.A)(d.prototype,"renderReviewInfo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,n.A)(d.prototype,"getLabels",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(this.labelsInfo[Ee.qf.ITEM])return;const{labels:e,sortTypeInfoList:t,goodsInfo:i,expParams:a,scoreNumInfoList:n,ratingFiltersInfo:r,emptyReviewFoldText:o,goodsScoreText:s,sortTypeInfoExtra:c,galleryReviews:m}=await this.transferGetLabels()||{},u={labels:e,sortTypeInfoList:t,sortTypeInfoExtra:c};(0,l.h5)((()=>{this.labelsInfo[Ee.qf.ITEM]=u,this.goodsInfo=i||{},this.goodsInfoExpParams=a||{},this.scoreNumInfoList=n,this.ratingFiltersInfo=r,this.itemReviewInfo={emptyReviewFoldText:o,galleryReviews:m},m&&this.$root.reviewGalleryStore?.initDataAction({galleryReviews:m,goodsInfo:i}),this.goodsScoreText=s}))}}}),T=(0,n.A)(d.prototype,"getShopLabels",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(this.labelsInfo[Ee.qf.SHOP])return;const{getMallId:t}=this.$root||{},i=e||t?.();if(!i)return;const{labels:a,sortTypeInfoList:n,expParams:r,emptyReviewFoldText:o,sortTypeInfoExtra:s}=await this.reviewService.getShopLabels({mall_id:i})||{},c={labels:a,sortTypeInfoList:n,sortTypeInfoExtra:s};(0,l.h5)((()=>{this.labelsInfo[Ee.qf.SHOP]=c,this.pageLabelsInfo[Ee.qf.SHOP]={labels:a},this.mallInfoExpParams=r||{},this.mallReviewInfo={emptyReviewFoldText:o}}))}}}),_=(0,n.A)(d.prototype,"mallReview",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),P=(0,n.A)(d.prototype,"ratingGuidelinesPopupVo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,n.A)(d.prototype,"reviewAuthenticityPopupVo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,n.A)(d.prototype,"clothFitReviewInfoList",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,n.A)(d.prototype,"showReview",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=(0,n.A)(d.prototype,"showGoodsScore",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=(0,n.A)(d.prototype,"similarReview",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),z=(0,n.A)(d.prototype,"listShowSimilarReviews",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=(0,n.A)(d.prototype,"needShowSimilarReviews",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=(0,n.A)(d.prototype,"reviewClothFitReviewText",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,n.A)(d.prototype,"clothFitTipV2",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,n.A)(d.prototype,"resetStoreData",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.labelsInfo={},this.pageLabelsInfo={[Ee.qf.ITEM]:{},[Ee.qf.SHOP]:{}},this.commentHasMore=!0,this.loadCommentMoreLock=!1,this.similarCommentHasMore=!0,this.loadSimilarCommentMoreLock=!1,this.tabIndexTitle={},this.activeTopIndex=Ee.qf.ITEM,this.reviewDisplayNum=2,this.showReview=!0,this.closeCommentDialog(),this.clearPreloadPromise()}}}),q=(0,n.A)(d.prototype,"initDataAction",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e.resetStoreData(),e.noGoodsReviewHasShopReview=!1;const{reviewInfoList:i=[],reviewNum:a,reviewNumStr:n,mallReview:r={},reviewNumText:o,goodsScore:s,goodsScoreText:c,labels:m,ratingGuidelinesPopupVo:u,reviewAuthenticityPopupVo:p,clothFitReviewInfoList:d,subtitleText:w,expParams:h,similarReview:v,nativeScore:g,sortTypeInfoList:f,reviewClothFitReviewText:b,sortTypeInfoExtra:S,galleryReviews:I}=t||{},y=r?.reviewNum,L=r?.reviewNumStr,E=r?.reviewInfoList||[],{reviewDisplayNum:A,showGoodsScore:R,listShowSimilarReviews:x,clothFitTipV2:T,mixedReview:_}=h||{},P=v?.reviewInfoList?.length>0,C="string"==typeof x&&!!x;(0,l.h5)((()=>{Object.assign(e,{reviewNum:a,reviewNumStr:n,mallReviewNum:y,mallReviewNumStr:L,mallReview:r,subtitleText:w,nativeScore:g,reviewClothFitReviewText:b,clothFitTipV2:T,mixedReview:"1"===_,renderReviewInfo:{galleryReviews:I}}),e.needShowSimilarReviews=P,e.listShowSimilarReviews=C,e.similarReview=v||{},e.commentList=i||E||[],e.ratingGuidelinesPopupVo=u,e.reviewAuthenticityPopupVo=p,e.pageReviewListMap[Ee.qf.ITEM]=i||[],e.pageReviewListMap[Ee.qf.SHOP]=E||[],e.initPageReviewListMap[Ee.qf.ITEM]=i||[],e.initPageReviewListMap[Ee.qf.SHOP]=E||[],e.pageLabelsInfo[Ee.qf.ITEM]={labels:m,sortTypeInfoList:f||[],sortTypeInfoExtra:S},e.clothFitReviewInfoList=d,e.showGoodsScore="1"===R,e.showScore=e.showGoodsScore?s:r?.mallScore||s,e.showScoreStr=e.showGoodsScore?c||s:r?.mallScoreText||s,Number.isNaN(Number(A))||(e.reviewDisplayNum=Number(A)),0===i.length&&0===E.length&&(e.showReview=!1),!a&&y&&(e.noGoodsReviewHasShopReview=!0,e.activeTopIndex=Ee.qf.SHOP),a&&(e.tabIndexTitle[Ee.qf.ITEM]=o),y&&(e.tabIndexTitle[Ee.qf.SHOP]=r.reviewNumText);const t=Object.keys(e.tabIndexTitle).length;e.onlyShowSimilarReviews=t<2&&P}))}}}),O=(0,n.A)(d.prototype,"setTopActiveIndex",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{e!==this.activeTopIndex&&(this.pageReviewListMap[e]=this.initPageReviewListMap[e],this.pageReviewListMap[e].length?this.commentList=this.pageReviewListMap[e]:await(0,Le.A)((async()=>{await this.queryCommentList(!0,{activeTopIndex:e,size:this.reviewDisplayNum,label_id:"",sort_type:0,...e===Ee.qf.SHOP?{source:null}:{}})})),this.selectedSortLabelId=0,this.selectedLabelId="",this.selectFilterStar=0,this.activeTopIndex=e)}}}),W=(0,n.A)(d.prototype,"newSetActiveIndex",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.activeTopIndex=e}}}),V=(0,n.A)(d.prototype,"showCommentDialog",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=(0,n.A)(d.prototype,"commentList",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=(0,n.A)(d.prototype,"commentPage",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=(0,n.A)(d.prototype,"commentHasMore",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$=(0,n.A)(d.prototype,"selectedSortLabelId",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Q=(0,n.A)(d.prototype,"selectedLabelId",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),J=(0,n.A)(d.prototype,"selectFilterStar",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=(0,n.A)(d.prototype,"labelsInfo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Y=(0,n.A)(d.prototype,"pageLabelsInfo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:{},[Ee.qf.SHOP]:{}}}}),Z=(0,n.A)(d.prototype,"pageReviewListMap",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:[],[Ee.qf.SHOP]:[]}}}),ee=(0,n.A)(d.prototype,"tabIndexTitle",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),te=(0,n.A)(d.prototype,"initPageReviewListMap",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:[],[Ee.qf.SHOP]:[]}}}),ie=(0,n.A)(d.prototype,"handleCommentDialog",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{(0,Le.A)((async()=>{e.stageStart("api"),await Promise.all([this.queryCommentList(!0),this.querySimilarCommentList(!0),this.activeTopIndex===Ee.qf.ITEM?this.getLabels():this.getShopLabels()]),e.stageEnd("api"),this.dialogFrom=Ee.a7.ALL_BUTTON,this.showCommentDialog=!0,this.clearPreloadPromise()}))}}}),ae=(0,n.A)(d.prototype,"handleCommentDialogByLable",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t)=>{(0,Le.A)((async()=>{t&&t.stageStart("api");const i=[this.getLabels()];this.changeSelectedLable(e),this.loadCommentMoreLock||i.push(this.queryCommentList(!0)),await Promise.all(i),t&&t.stageEnd("api"),this.dialogFrom=Ee.a7.LABEL,this.showCommentDialog=!0,this.mouseDownPreload=!1,this.getQueryCommentListPromise=null,this.getLabelsListPromise=null,this.querySimilarCommentListPromise=null}))}}}),ne=(0,n.A)(d.prototype,"closeCommentDialog",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showCommentDialog=!1,this.selectedSortLabelId=0,this.selectedLabelId="",this.selectFilterStar=0,this.dialogFrom=Ee.a7.EMPTY}}}),re=(0,n.A)(d.prototype,"clearCommentList",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.commentList=[],this.commentPage=1,this.commentHasMore=!0}}}),oe=(0,n.A)(d.prototype,"onReviewSortChange",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.changeSortLableAndJudgeIfNeedRequestData(e)&&(0,Le.A)((async()=>{await this.queryCommentList(!0)}))}}}),le=(0,n.A)(d.prototype,"onReviewLabelChange",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{this.loadCommentMoreLock||(this.changeSelectedLable(e),await(0,Le.A)((async()=>{await this.queryCommentList(!0)})))}}}),se=(0,n.A)(d.prototype,"changeFilterStar",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.loadCommentMoreLock||this.selectFilterStar===e||(this.selectFilterStar=e,this.selectedLabelId="",(0,Le.A)((async()=>{await this.queryCommentList(!0)})))}}}),ce=(0,n.A)(d.prototype,"showAllReviews",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{(0,Le.A)((async()=>{await this.queryCommentList(!0,{sort_type:0,label_id:void 0,filter_score:void 0}),this.selectFilterStar=0,this.selectedSortLabelId=0,this.selectedLabelId=""}),4)}}}),me=(0,n.A)(d.prototype,"onlyShowSimilarReviews",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ue=(0,n.A)(d.prototype,"queryCommentList",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.onlyShowSimilarReviews)return;if(!e.commentHasMore&&!t)return;if(e.loadCommentMoreLock)return;e.loadCommentMoreLock=!0;const a=await e.transferQueryCommentList(t,i);e.setAssignCommentList(a,t,i)}}}),pe=(0,n.A)(d.prototype,"similarCommentHasMore",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),de=(0,n.A)(d.prototype,"similarCommentPage",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),we=(0,n.A)(d.prototype,"similarCommentList",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=(0,n.A)(d.prototype,"similarDialogInfo",[l.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ve=(0,n.A)(d.prototype,"querySimilarCommentList",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(!this.similarCommentHasMore&&!e)return;const t=Object.keys(this.tabIndexTitle).length>1&&this.activeTopIndex===Ee.qf.SHOP;if(this.loadSimilarCommentMoreLock||t||!this.listShowSimilarReviews)return;this.loadSimilarCommentMoreLock=!0;const i=await this.trasferQuerySimilarCommentList(e),{list:a,reviewMaxListSize:n,...r}=i||{},s=o()(a)?a:[];(0,l.h5)((()=>{const t=e?s:[...this.similarCommentList,...s];this.similarCommentHasMore=n>t.length&&n>10,this.similarCommentList=ye(t,(e=>e?.reviewId)),this.similarDialogInfo=r||{},this.loadSimilarCommentMoreLock=!1,this.similarCommentPage+=1}))}}}),ge=(0,n.A)(d.prototype,"newDeleteReview",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t!==u.jF.DELETE_REVIEW)return;const n=a?e.initPageReviewListMap[e.activeTopIndex]:e.commentList,r=n.findIndex((e=>e.reviewId===i)),o=await e.reviewService.deleteReview({review_id:i}),{success:c,resultMessage:m}=o||{};(0,l.h5)((()=>{if(c){if((0,p.I)(m||(0,s.t)("store.deletedSuccessfullyToast",{ns:"goods"})),n.splice(r,1),!a){e.commentList=[...n];const t=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>e.reviewId===i));t>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(t,1)}}else(0,p.I)(m||(0,s.t)("store.deleteFailedToast",{ns:"goods"}))}))}}}),fe=(0,n.A)(d.prototype,"newToggleAnonymous",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;const r=a?e.initPageReviewListMap[e.activeTopIndex]:e.commentList;if("object"==typeof i){const t=r.findIndex((e=>e.reviewId===i.reviewId));t>-1&&(0,l.h5)((()=>{r.splice(t,1,i),e.commentList=[...r];const a=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>e.reviewId===i.reviewId));a>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(a,1,i)}))}else{const o=r[i],{reviewId:s,viewMoreList:m}=o,u=await e.reviewService.changeAnonymousReview({review_id:s,update_type:2===t?0:1,op_scene:n}),{nickNameOperateType:p,name:d,resultMessage:w,avatar:h,success:v}=u||{};if(v){const n={...o,viewMoreList:m.map((e=>e.type===t?p:e)),name:d,avatar:h};return(0,l.h5)((()=>{if(r.splice(i,1,n),!a){e.commentList=[...r];const t=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>+e.reviewId==+n.reviewId));t>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(t,1,n)}})),w&&c.A.success(w),n}w&&c.A.error(w)}return null}}}),be=(0,n.A)(d.prototype,"toggleAnonymousSimilar",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;const r=a?e.similarReview?.reviewInfoList:e.similarCommentList;if(!r?.length)return null;if("object"==typeof i){const t=r.findIndex((e=>e.reviewId===i.reviewId));t>-1&&(0,l.h5)((()=>{r.splice(t,1,i),e.similarReview=[...r];const a=e.similarReview?.reviewList?.findIndex((e=>e.reviewId===i.reviewId));a>-1&&e.similarReview.reviewList.splice(a,1,i)}))}else{const o=r?.[i];if(!o)return null;const{reviewId:s,viewMoreList:m}=o,u=await e.reviewService.changeAnonymousReview({review_id:s,update_type:2===t?0:1,op_scene:n}),{nickNameOperateType:p,name:d,resultMessage:w,avatar:h,success:v}=u||{};if(v){const n={...o,viewMoreList:m.map((e=>e.type===t?p:e)),name:d,avatar:h};return(0,l.h5)((()=>{if(r.splice(i,1,n),!a){e.similarCommentList=[...r];const t=e.similarReview?.reviewList?.findIndex((e=>+e.reviewId==+n.reviewId));t>-1&&e.similarReview.reviewList.splice(t,1,n)}})),w&&c.A.success(w),n}w&&c.A.error(w)}return null}}}),Se=(0,n.A)(d.prototype,"handleStaticSort",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.$root.expParams?.sortTypeStyle||(this.dialogFrom=Ee.a7.SORT,(0,Le.A)((async()=>{e.stageStart("api"),await Promise.all([this.queryCommentList(!0),this.querySimilarCommentList(!0),this.activeTopIndex===Ee.qf.ITEM?this.getLabels():this.getShopLabels()]),e.stageEnd("api"),this.selectedSortLabelId=this.pageLabelsInfo?.[0]?.code||0,this.showCommentDialog=!0})))}}}),Ie=(0,n.A)(d.prototype,"mostRecentHandle",[l.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t)=>{if(this.selectedSortLabelId!==e&&!this.loadCommentMoreLock)if(this.selectedSortLabelId=e,this.showCommentDialog){if(this.loadCommentMoreLock)return;await(0,Le.A)((async()=>{await this.queryCommentList(!0)}))}else this.dialogFrom=Ee.a7.MOST_RECENT,this.handleCommentDialog(t)}}}),d)},11263:function(e,t,i){"use strict";i.d(t,{D:function(){return a}});let a=function(e){return e[e.VerifyRisk=54001]="VerifyRisk",e[e.LoginRisk=40001]="LoginRisk",e}({})},92620:function(e,t,i){"use strict";var a=i(63815);t.A=async function(e){if(!e||"function"!=typeof e)return null;const t=setTimeout((()=>(0,a.WU)("")),arguments.length>1&&void 0!==arguments[1]?arguments[1]:300),i=await e();return clearTimeout(t),(0,a.jD)(),i}}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/6638_13b6a9407efe7defe0c9.js.map